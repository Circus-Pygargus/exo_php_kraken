install de tous les scripts habituels via vagrant (zip, git, apache, php, mysql, phpMyAdmin, mise en place d'un modrewrite, composer, nodejs, yarn, sass, twig)

je vais me faciliter la vie et utiliser altorouter pour géter mes routes =)   http://altorouter.com/usage/install.html
    composer require altorouter/altorouter

création du fichier README.md

ajout du fichier .htaccess

commit -m "premier commit"



création du fichier index.php en y collant la base pour le fonctionnement des routes avec altorouter
commit -m "mise en place du router"



création .env
création .env.sample
install de dotenv :
    composer require vlucas/phpdotenv
commit -m "ajout .env"



ajout autoload psr-4 (modif de composer.json puis:)
    composer dumpautoload
commit -m "mise en place architecture MVC : DatabaseConfig"



ajout fichier /Application/Database.php
commit -m "mise en place architecture MVC : Database"



ajout fichier /Application/Template.php
commit -m "mise en place architecture MVC : Template"



ajout fichier /Application/Controller.php
commit -m "mise en place architecture MVC : Controller"


création /templates/base.html.twig
création /template/index.html.twig
commit -m "ajout premier template"


création KrakenController
replacement de /Application dans /src/
correction coquille dans index.html.twig
commit -m "Ajout KrakenController"



création des entités :
    - /src/Entity/Kraken.php     -> commit -m "création entité kraken"
    - /src/Entity/Tentacle.php  -> commit -m "création entité tentacle"
    - /src/Entity/Power.php  -> commit -m "création entité power"
modif tentacle.php puis commit -m "modif entité Tentacle"
    - /src/Entity/KrakenPower.php -> commit -m "création entité krakenPower"
modif Power.php (ajout méthode getAll qui servira à savoir si la base de données a été correctement créée) -> commit -m "modif entité Power _ ajout méthode getAll()"
modif entité Kraken -> commit -m "modif entité Kraken"
modif entité tentacle -> commit -m "modif entité Tentacle"

création bdd -> commit -m "création bdd"

déplacement de index.php dans /public
modif du fichier /etc/apache2/sites-available/000-default.conf pour faire pointer vers le nouvel emplacement de index.php
sauf qu'il faut aussi :
modif de la const PATH pour '../templates' dans /Application/Template.php
et modif dans index.php du chemin pour aller chercher l'autoload en début de fichier
commit -m "déplacement index.php vers /publilc"


commit -m "déplacement .htaccess vers /public"


ajout de la route /kraken/new dans index.php
ajout gestion de la route /kraken/new dans KrakenController.php
commit -m "ajout et gestion de la route /kraken/new"

ajout de bootstrap pour se faciliter la tâche (surtout quici, l'intérêt c'est de faire du php...)
commit -m "ajout bootstrap"

création du formulaire de nouveau kraken dans /templates/kraken_new/index.html
commit -m "création formulaire nouveau kraken"

ajout de la route /kraken/create
commit -m "ajout route "/kraken/create"

modif de Kraken.php : j'avais oublié les anciennes propriétés tentacles et powers dans les requêtes sql o_O
pire : correction dans Database.php $this->execute();  il manquait les () !!!!!
commit -m "correction coquilles"

modif du chemin pour DotEnv dans DatabaseConfig.php (ajout de .'/..' pour sortit de /public car il va chercher dans $_SERVER["DOCUMENT_ROOT"] et ce dernier à changé depuis le déplacement vers /public)
commit -m "correction emplacement .env après ajout /public"

création de la méthode KrakenController->create()
commit -m "ajout gestion back de la route /kraken/create"

création du fichier /public/js/krane-create.js
commit -m "ajout gestion front /kraken/create"

modif dans fichier kraken.sql (manquait le contenu de la table kraken ...)
commit -m "finition mise en place bdd"

modif du nom du template /templates/kraken_new/index.html.twig en /templates/kraken/new.html.twig
commit -m "modification architecture templates"


Création de l'interface d'affichage et de modification du kraken :

création de la route /kraken/{krakenID}
commit- m "création de la route /kraken/{krakenId}"

création de la méthode infos($krakenId) dans KrakenController
commit -m "backend : création méthode pour gestion de la route /kraken/{krakenId} en GET" 

correction coquille gestion params d'url dans index.php
commit -m "correction coquille gestion url params" 

création du template /kraken/infos.html.twig
création du template partiel /templates/partial/powers-infos.html.twig
création du template partiel /templates/partial/tentacles-infos.html.twig
création du template partiel /templates/partial/powers-add.html.twig
création du template partiel /templates/partial/powers-delete.html.twig
création du template partiel /templates/partial/tentacles-delete.html.twig
commit -m "création du template d'infos d'un kraken"

correction infos.html.twig : gestion du pluriel de l'age du kraken
commit -m "correction : gestion du pluriel si kraken.age > 0"

Ajout méthode getOneById dans Kraken.php
commit -m "ajout méthode getOneById dans Kraken.php"

ajout de la méthode getAllInfosById($id) dans Kraken.php
j'y récupère les infos du kraken + les infos de ses tentacules
mais ça ne sera pas utilisable car les infos du kraken et des tentacules se cumulent dans le même array sans différenciations ...
git commit -m " ajout de la méthode getAllInfosById($id) dans Kraken.php"

Ajout de la méthode getAllbyKrakenId dans Tentacle.php
commit -m "ajout de la méthode getAllbyKrakenId dans Tentacle.php"

Ajout de la méthode getAllPowersNamesByKrakenId() dans KrakenPower.php
commit -m "ajout de la méthode getAllPowersNamesByKrakenId() dans KrakenPower.php"

ajout redirection vers page info si enregistrement de nouveau kraken ok dans kraken-create.js
commit -m "ajout redirection vers page info si enregistrement nouveau kraken ok" 
















les tables :
kraken :
    _ id (int)
    _ nom (string)
    _ age (int)
    _ taille (en mêtre) (int)
    _ poids (en tonnes) (int)

tentacle :
    _ id (int)
    _ kraken_id (int) (foreign key kraken)
    _ nom (string)
    _ points de vies (int)
    _ force (int)
    _ dextérité (int)
    _ constitution (int)

power :
    _ id (int)
    _ nom (string)

kraken_power :
    _ id (int)
    _ kraken_id (int) (foreign key kraken)
    _ power_id (int) (foreign key power)